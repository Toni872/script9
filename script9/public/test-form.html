<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Test Form</title>
</head>

<body>
    <h1>Prueba de Formulario An√≥nimo</h1>
    <button id="btn">ENVIAR LEAD DE PRUEBA</button>
    <pre id="output"></pre>

    <script>
        document.getElementById('btn').addEventListener('click', async () => {
            const out = document.getElementById('output');
            out.textContent = 'Enviando...';
            try {
                const res = await fetch('/api/submit-lead', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        name: 'Test Anonimo',
                        email: 'test@anonimo.com',
                        message: 'Prueba desde HTML puro'
                    })
                });
                const text = await res.text();
                out.textContent = `Status: ${res.status}\nBody: ${text}`;
            } catch (e) {
                out.textContent = 'Error: ' + e.message;
            }
        });
    </script>
</body>

</html>